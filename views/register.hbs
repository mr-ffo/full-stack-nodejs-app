<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Folarin DevOps Practice</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            box-sizing: border-box;
        }

        .cloud-accent {
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
        }

        .cloud-pattern {
            background-image:
                    radial-gradient(circle at 20% 80%, rgba(120, 119, 198, 0.1) 0%, transparent 50%),
                    radial-gradient(circle at 80% 20%, rgba(59, 130, 246, 0.08) 0%, transparent 50%),
                    radial-gradient(circle at 40% 40%, rgba(148, 163, 184, 0.05) 0%, transparent 50%);
        }

        .form-transition {
            transition: all 0.3s ease-in-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeIn 0.4s ease-out;
        }
    </style>
</head>
<body class="min-h-screen cloud-accent cloud-pattern">
<div class="min-h-screen flex flex-col items-center justify-center px-4 py-8">
    <!-- Hero Heading -->
    <div class="text-center mb-12 fade-in">
        <h1 class="text-4xl md:text-6xl font-bold text-slate-800 mb-4 tracking-tight">
            Folarin DevOps Practice
        </h1>
        <div class="w-24 h-1 bg-gradient-to-r from-blue-500 to-slate-400 mx-auto rounded-full"></div>
    </div>

    <!-- Form Card -->
    <div class="w-full max-w-md bg-white rounded-2xl shadow-xl border border-slate-200 overflow-hidden fade-in">
        <div class="p-8">
            <!-- Form Toggle Header -->
            <div class="text-center mb-8">
                <h2 id="formTitle" class="text-2xl font-semibold text-slate-800 mb-2">Sign Up</h2>
                <p class="text-slate-600 text-sm">Join the DevOps community</p>
            </div>

            <!-- Form -->
            <form id="authForm" method="post" class="space-y-6">
                <!-- Full Name Field -->
                <div id="nameField" class="form-transition">
                    <label for="fullName" class="block text-sm font-medium text-slate-700 mb-2">
                        Full Name
                    </label>
                    <input
                            type="text"
                            id="fullName"
                            name="fullName"
                            class="w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-slate-50 focus:bg-white"
                            placeholder="Enter your full name"
                            required
                    >
                </div>

                <!-- Email Field -->
                <div>
                    <label for="email" class="block text-sm font-medium text-slate-700 mb-2">
                        Email Address
                    </label>
                    <input
                            type="email"
                            id="email"
                            name="email"
                            class="w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-slate-50 focus:bg-white"
                            placeholder="Enter your email"
                            required
                    >
                </div>

                <!-- Password Field -->
                <div>
                    <label for="password" class="block text-sm font-medium text-slate-700 mb-2">
                        Password
                    </label>
                    <input
                            type="password"
                            id="password"
                            name="password"
                            class="w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 bg-slate-50 focus:bg-white"
                            placeholder="Enter your password"
                            required
                    >
                </div>

                <!-- Submit Button -->
                <button
                        type="submit"
                        class="w-full bg-gradient-to-r from-blue-600 to-slate-600 text-white font-semibold py-4 px-6 rounded-lg hover:from-blue-700 hover:to-slate-700 transform hover:scale-[1.02] transition-all duration-200 shadow-lg hover:shadow-xl"
                >
                    <span id="submitText">Create Account</span>
                </button>
            </form>

            <!-- Toggle Link -->
            <div class="text-center mt-6 pt-6 border-t border-slate-200">
                <p class="text-slate-600 text-sm">
                    <span id="togglePrompt">Already have an account?</span>
                    <button
                            id="toggleBtn"
                            type="button"
                            class="text-blue-600 hover:text-blue-700 font-medium ml-1 transition-colors duration-200"
                    >
                        Sign In
                    </button>
                </p>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <div class="mt-8 text-center text-slate-500 text-sm fade-in">
        <p>Secure • Professional • DevOps Ready</p>
    </div>
</div>
<script>
    let isSignUp = true;

    const formTitle = document.getElementById('formTitle');
    const nameField = document.getElementById('nameField');
    const submitText = document.getElementById('submitText');
    const togglePrompt = document.getElementById('togglePrompt');
    const toggleBtn = document.getElementById('toggleBtn');
    const authForm = document.getElementById('authForm');
    const fullNameInput = document.getElementById('fullName');

    function toggleForm() {
        isSignUp = !isSignUp;
        if (isSignUp) {
            formTitle.textContent = 'Sign Up';
            nameField.style.display = 'block';
            submitText.textContent = 'Create Account';
            togglePrompt.textContent = 'Already have an account?';
            toggleBtn.textContent = 'Sign In';
            fullNameInput.required = true;
        } else {
            formTitle.textContent = 'Sign In';
            nameField.style.display = 'none';
            submitText.textContent = 'Sign In';
            togglePrompt.textContent = "Don't have an account?";
            toggleBtn.textContent = 'Sign Up';
            fullNameInput.required = false;
        }
    }

    async function handleSubmit(e) {
        e.preventDefault();

        const formData = new FormData(authForm);
        const payload = {
            name: formData.get('fullName'),
            email: formData.get('email'),
            password: formData.get('password')
        };

        const url = isSignUp ? '/signup' : '/signin';

        submitText.textContent = 'Processing…';

        try {
            const res = await fetch(url, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(payload)
            });

            if (!res.ok) throw new Error('Network response was not ok');

            // If you redirect on success, follow it
            window.location.href = '/';
        } catch (err) {
            alert('Error: ' + err.message);
        } finally {
            submitText.textContent = isSignUp ? 'Create Account' : 'Sign In';
        }
    }

    toggleBtn.addEventListener('click', toggleForm);
    authForm.addEventListener('submit', handleSubmit);
</script>


<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'986714b5802b413a',t:'MTc1OTEwMjc3NC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
